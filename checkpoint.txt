import time
import os

# File to store checkpoint
checkpoint_file = 'checkpoint.txt'

def save_checkpoint(step):
    with open(checkpoint_file, 'w') as f:
        f.write(str(step))

def load_checkpoint():
    if os.path.exists(checkpoint_file):
        with open(checkpoint_file, 'r') as f:
            return int(f.read())
    return 0

def main():
    checkpoint = load_checkpoint()
    for i in range(checkpoint, 100):
        print(f"Processing step {i}")
        save_checkpoint(i)
        time.sleep(5)  # Simulate long processing

if __name__ == "__main__":
    main()
